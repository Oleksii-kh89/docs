"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[1904],{3905:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>f});var o=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var c=o.createContext({}),p=function(e){var t=o.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},l=function(e){var t=p(e.components);return o.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,c=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),u=p(r),h=n,f=u["".concat(c,".").concat(h)]||u[h]||d[h]||a;return r?o.createElement(f,s(s({ref:t},l),{},{components:r})):o.createElement(f,s({ref:t},l))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,s=new Array(a);s[0]=h;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[u]="string"==typeof e?e:n,s[1]=i;for(var p=2;p<a;p++)s[p]=r[p];return o.createElement.apply(null,s)}return o.createElement.apply(null,r)}h.displayName="MDXCreateElement"},44512:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>p});var o=r(87462),n=(r(67294),r(3905));const a={},s="How to get an access token in ReportPortal",i={unversionedId:"reportportal-configuration/HowToGetAnAccessTokenInReportPortal",id:"reportportal-configuration/HowToGetAnAccessTokenInReportPortal",title:"How to get an access token in ReportPortal",description:"There are two ways to authorize in the ReportPortal API:",source:"@site/docs/reportportal-configuration/HowToGetAnAccessTokenInReportPortal.mdx",sourceDirName:"reportportal-configuration",slug:"/reportportal-configuration/HowToGetAnAccessTokenInReportPortal",permalink:"/docs/reportportal-configuration/HowToGetAnAccessTokenInReportPortal",draft:!1,editUrl:"https://github.com/reportportal/docs/blob/develop/docs/reportportal-configuration/HowToGetAnAccessTokenInReportPortal.mdx",tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"Integration via plugin",permalink:"/docs/reportportal-configuration/IntegrationViaPlugin"},next:{title:"Authorization",permalink:"/docs/reportportal-configuration/authorization/"}},c={},p=[{value:"1. Authorization with user\u2019s login and password",id:"1-authorization-with-users-login-and-password",level:2},{value:"2. Authorization with user&#39;s UUID Access Token (for agents)",id:"2-authorization-with-users-uuid-access-token-for-agents",level:2}],l={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,n.kt)(u,(0,o.Z)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"how-to-get-an-access-token-in-reportportal"},"How to get an access token in ReportPortal"),(0,n.kt)("p",null,"There are two ways to authorize in the ReportPortal API:"),(0,n.kt)("h2",{id:"1-authorization-with-users-login-and-password"},"1. Authorization with user\u2019s login and password"),(0,n.kt)("p",null,"This is the main and ",(0,n.kt)("strong",{parentName:"p"},"recommended way")," to get access to ReportPortal API."),(0,n.kt)("p",null,"Make the following HTTP request to get user's access token using login and password:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"POST <report_portal_url>/uat/sso/oauth/token\n\nBODY with parameters:\ngrant_type: password\nusername: <username>\npassword: <password> \n")),(0,n.kt)("media-view",{src:r(46786),alt:"Authorization to ReportPortal Testops with user\u2019s login and password"}),(0,n.kt)("p",null,"Or you can use the following curl request:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'curl --header "Content-Type: application/x-www-form-urlencoded" \\\n--request POST \\\n--data "grant_type=password&username=<username>&password=<password>" \\\n--user "ui:uiman" \\\n<report_portal_url>/uat/sso/oauth/token\n')),(0,n.kt)("p",null,"Then you will receive a response with an access token:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'{\n"access_token": <access_token>,\n"token_type": "bearer",\n"expires_in": <token_lifetime_ms>,\n"refresh_token": <refresh_token>,\n...\n}\n')),(0,n.kt)("p",null,"Now you can use \u201caccess_token\u201d with any request to API by sending it as HTTP Authorization header:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"HTTP Header:\nAuthorization: Bearer <access_token>\n\n")),(0,n.kt)("p",null,"Please note, that the token has a validity expiration time which is specified in the \u201cexpires_in\u201d field. "),(0,n.kt)("h2",{id:"2-authorization-with-users-uuid-access-token-for-agents"},"2. Authorization with user's UUID Access Token (for agents)"),(0,n.kt)("p",null,"Another way is to use the UUID Access Token from the user's Profile page. Pay attention, that this type of token is designed to be used by ReportPortal client tools and is ",(0,n.kt)("strong",{parentName:"p"},"not a recommended way")," to provide access directly to API endpoints."),(0,n.kt)("p",null,"Go to the Profile page when logged in and find the Access token. "),(0,n.kt)("media-view",{src:r(45186),alt:"Authorization with user's UUID Access Token (for agents)"}),(0,n.kt)("p",null,"The UUID token works in the same way as the regular token \u2013 just add it in the HTTP Authorization header when making requests to the ReportPoral API:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"HTTP Header:\nAuthorization: Bearer <access_token>  \n")))}d.isMDXComponent=!0},46786:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});const o=r.p+"assets/images/AccessToken1-3532d99465a7eab2f5324de85f65597b.png"},45186:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});const o=r.p+"assets/images/AccessToken2-7f28c7e745c3ad80ca823d9d82db7305.png"}}]);