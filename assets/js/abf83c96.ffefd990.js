"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[8633],{3905:(t,e,a)=>{a.d(e,{Zo:()=>i,kt:()=>u});var n=a(67294);function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e){if(null==t)return{};var a,n,o=function(t,e){if(null==t)return{};var a,n,o={},r=Object.keys(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||(o[a]=t[a]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}var l=n.createContext({}),c=function(t){var e=n.useContext(l),a=e;return t&&(a="function"==typeof t?t(e):s(s({},e),t)),a},i=function(t){var e=c(t.components);return n.createElement(l.Provider,{value:e},t.children)},h="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},g=n.forwardRef((function(t,e){var a=t.components,o=t.mdxType,r=t.originalType,l=t.parentName,i=p(t,["components","mdxType","originalType","parentName"]),h=c(a),g=o,u=h["".concat(l,".").concat(g)]||h[g]||m[g]||r;return a?n.createElement(u,s(s({ref:e},i),{},{components:a})):n.createElement(u,s({ref:e},i))}));function u(t,e){var a=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var r=a.length,s=new Array(r);s[0]=g;var p={};for(var l in e)hasOwnProperty.call(e,l)&&(p[l]=e[l]);p.originalType=t,p[h]="string"==typeof t?t:o,s[1]=p;for(var c=2;c<r;c++)s[c]=a[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}g.displayName="MDXCreateElement"},39056:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>p,toc:()=>c});var n=a(87462),o=(a(67294),a(3905));const r={},s="Attachments (Screenshots) Guide",p={unversionedId:"dev-guides/AttachmentsGuide",id:"dev-guides/AttachmentsGuide",title:"Attachments (Screenshots) Guide",description:"The Attachments feature allows you to add any file or screenshot to the test case logs. It can be useful for further test failure analysis.",source:"@site/docs/dev-guides/AttachmentsGuide.mdx",sourceDirName:"dev-guides",slug:"/dev-guides/AttachmentsGuide",permalink:"/docs/dev-guides/AttachmentsGuide",draft:!1,editUrl:"https://github.com/reportportal/docs/blob/develop/docs/dev-guides/AttachmentsGuide.mdx",tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"Asynchronous reporting",permalink:"/docs/dev-guides/AsynchronousReporting"},next:{title:"Back-end Java contribution guide",permalink:"/docs/dev-guides/BackEndJavaContributionGuide"}},l={},c=[{value:"How to log attachments (Screenshots) on Java agents?",id:"how-to-log-attachments-screenshots-on-java-agents",level:2},{value:"How to log attachments (Screenshots) on Python agents?",id:"how-to-log-attachments-screenshots-on-python-agents",level:2},{value:"How to log attachments (Screenshots) on JavaScript agents?",id:"how-to-log-attachments-screenshots-on-javascript-agents",level:2},{value:"How to log attachments (Screenshots) on .Net agents?",id:"how-to-log-attachments-screenshots-on-net-agents",level:2}],i={toc:c},h="wrapper";function m(t){let{components:e,...r}=t;return(0,o.kt)(h,(0,n.Z)({},i,r,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"attachments-screenshots-guide"},"Attachments (Screenshots) Guide"),(0,o.kt)("p",null,"The Attachments feature allows you to add any file or screenshot to the test case logs. It can be useful for further test failure analysis."),(0,o.kt)("p",null,"An example of image attachment:"),(0,o.kt)("media-view",{src:a(74165),alt:"Image Attachment in our test reporting tool"}),(0,o.kt)("p",null,"An example of file attachment:"),(0,o.kt)("media-view",{src:a(38189),alt:"File Attachment in our open source test reporting tool"}),(0,o.kt)("media-view",{src:a(94885),alt:"Attachment Details in our multi-language test reporting tool"}),(0,o.kt)("h2",{id:"how-to-log-attachments-screenshots-on-java-agents"},"How to log attachments (Screenshots) on Java agents?"),(0,o.kt)("p",null,"Java agents have numerous methods to log attachments, the easiest one is calling ",(0,o.kt)("inlineCode",{parentName:"p"},"ReportPortal#emitLog")," static method:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"import com.epam.reportportal.listeners.LogLevel;\nimport com.epam.reportportal.service.ReportPortal;\n\nimport java.util.Date;\nimport java.io.File;\n\nclass Test {\n    public static void log(String message, File file) {\n        ReportPortal.emitLog(message, LogLevel.INFO.name(), new Date(), file);\n    }\n}\n")),(0,o.kt)("p",null,"If you don't want to put ReportPortal dependencies in your code, there is a way to pass attachments through your logger."),(0,o.kt)("p",null,"Check out our loggers' documentation:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/reportportal/logger-java-log4j#attaching-files-screenshots-videos-archives-reports-etc"},"Log4j")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/reportportal/logger-java-logback#attaching-files-screenshots-videos-archives-reports-etc"},"Logback"))),(0,o.kt)("h2",{id:"how-to-log-attachments-screenshots-on-python-agents"},"How to log attachments (Screenshots) on Python agents?"),(0,o.kt)("p",null,"To log attachments in Python you first need to configure a logger, depending on your current test framework. These are the instructions: "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/reportportal/agent-python-pytest#examples"},"Pytest")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/reportportal/agent-Python-RobotFramework#logging"},"Robot Framework")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/reportportal/agent-python-behave#logging"},"Behave"))),(0,o.kt)("p",null,"Then you can use common method to attach any files to logs which is described ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/client-Python#send-attachment-screenshots"},"here"),"."),(0,o.kt)("h2",{id:"how-to-log-attachments-screenshots-on-javascript-agents"},"How to log attachments (Screenshots) on JavaScript agents?"),(0,o.kt)("p",null,"Attachment reports are supported by our ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/client-javascript"},"client-javascript"),". The attachment file can be added as a part of a log request, see the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/client-javascript#sendlog"},"link")," for details."),(0,o.kt)("p",null,"The implementation of attachments reporting varies from agent to agent."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-playwright"},"agent-js-playwright"),":\nThe attachment can be added via built-in ",(0,o.kt)("a",{parentName:"p",href:"https://playwright.dev/docs/api/class-testinfo#test-info-attachments"},"playwright testInfo attachments")," or ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-playwright#log"},"ReportingAPI"),"."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-webdriverio"},"agent-js-webdriverio"),":\nThe attachment can be added via ReportingAPI, follow ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-webdriverio#log"},"docs")," for details."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-testcafe"},"agent-js-testcafe"),":\nThe attachment can be added via ReportingAPI, follow ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-testcafe#log"},"docs")," for details."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-codecept"},"agent-js-codecept"),":\nThe attachment can be added via ReportPortal plugin reportPortal.addLog, captured screenshots will be also attached to the report, see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-codecept#add-log-message"},"add-log-message"),"."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-cucumber"},"agent-js-cucumber"),":\nThe attachment can be added via this.attach Cucumber feature, captured screenshots will be also attached to the report, see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-cucumber#attachments"},"attachments"),"."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-cypress"},"agent-js-cypress"),":\nThe attachment can be added via ReportPortal logging custom commands for Cypress, see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-cypress#logging"},"logging"),"."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-mocha"},"agent-js-mocha"),":\nThe attachment can be added via PublicReportingAPI, follow ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-mocha#report-logs-and-attachments"},"docs")," for details."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-jasmine"},"agent-js-jasmine"),":\nThe attachment can be added via PublicReportingAPI, follow ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-jasmine#report-logs-and-attachments"},"docs")," for details."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-jest"},"agent-js-jest"),":\nThere is no built-in capability to send attachments during test execution as the Jest Reporter works post-factum and does not allow to provide specific data to the report."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-postman"},"agent-js-postman"),":\nThere is no built-in capability at the moment to send attachments during test execution due to the specifics of postman nature."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-nightwatch"},"agent-js-nightwatch"),":\nThe attachment can be added via ReportingAPI, follow ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/agent-js-nightwatch#log"},"docs")," for details."),(0,o.kt)("p",null,"An example for each agent can be found ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/examples-js"},"here"),". "),(0,o.kt)("h2",{id:"how-to-log-attachments-screenshots-on-net-agents"},"How to log attachments (Screenshots) on .Net agents?"),(0,o.kt)("p",null,"General documentation on this in .net-commons: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reportportal/commons-net/blob/develop/docs/Logging.md"},"https://github.com/reportportal/commons-net/blob/develop/docs/Logging.md")),(0,o.kt)("p",null,"You can attach any binary content:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'Context.Current.Log.Info("my binary", "image/png", bytes);\n// where bytes is byte[] and image/png is mime type of content\n')),(0,o.kt)("p",null,"Or use file instead:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'Context.Current.Log.Info("my file", new FileInfo(filePath));\n// where filePath is relative/absolute path to your file\n// mime type is determined automatically \n')))}m.isMDXComponent=!0},74165:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});const n=a.p+"assets/images/AttachmentsGuide1-955c856446d2a4dffa1ea3bcabcf84f4.png"},38189:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});const n=a.p+"assets/images/AttachmentsGuide2-78e48fba7944c828ccec650930c99008.png"},94885:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});const n=a.p+"assets/images/AttachmentsGuide3-a75cd2b213a78c4235704623d6cc265e.png"}}]);