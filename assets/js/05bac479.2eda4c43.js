"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5114],{3905:(t,e,a)=>{a.d(e,{Zo:()=>o,kt:()=>c});var n=a(67294);function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e){if(null==t)return{};var a,n,l=function(t,e){if(null==t)return{};var a,n,l={},r=Object.keys(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||(l[a]=t[a]);return l}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(l[a]=t[a])}return l}var d=n.createContext({}),u=function(t){var e=n.useContext(d),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},o=function(t){var e=u(t.components);return n.createElement(d.Provider,{value:e},t.children)},s="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},k=n.forwardRef((function(t,e){var a=t.components,l=t.mdxType,r=t.originalType,d=t.parentName,o=p(t,["components","mdxType","originalType","parentName"]),s=u(a),k=l,c=s["".concat(d,".").concat(k)]||s[k]||m[k]||r;return a?n.createElement(c,i(i({ref:e},o),{},{components:a})):n.createElement(c,i({ref:e},o))}));function c(t,e){var a=arguments,l=e&&e.mdxType;if("string"==typeof t||l){var r=a.length,i=new Array(r);i[0]=k;var p={};for(var d in e)hasOwnProperty.call(e,d)&&(p[d]=e[d]);p.originalType=t,p[s]="string"==typeof t?t:l,i[1]=p;for(var u=2;u<r;u++)i[u]=a[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},47933:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>p,toc:()=>u});var n=a(87462),l=(a(67294),a(3905));const r={},i="Reporting developers guide",p={unversionedId:"dev-guides/ReportingDevelopersGuide",id:"dev-guides/ReportingDevelopersGuide",title:"Reporting developers guide",description:"Preconditions",source:"@site/docs/dev-guides/ReportingDevelopersGuide.md",sourceDirName:"dev-guides",slug:"/dev-guides/ReportingDevelopersGuide",permalink:"/docs/dev-guides/ReportingDevelopersGuide",draft:!1,editUrl:"https://github.com/reportportal/docs/blob/develop/docs/dev-guides/ReportingDevelopersGuide.md",tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"ReportPortal API",permalink:"/docs/dev-guides/ReportPortalAPI"},next:{title:"Rerun developers guide",permalink:"/docs/dev-guides/RerunDevelopersGuide"}},d={},u=[{value:"Preconditions",id:"preconditions",level:2},{value:"Retrieving api token",id:"retrieving-api-token",level:2},{value:"Using UI",id:"using-ui",level:4},{value:"Using UAT service",id:"using-uat-service",level:4},{value:"Start launch",id:"start-launch",level:2},{value:"Start root(suite) item",id:"start-rootsuite-item",level:2},{value:"Start child(container) item",id:"start-childcontainer-item",level:2},{value:"Start child(step) item",id:"start-childstep-item",level:2},{value:"Start child(nested step) item",id:"start-childnested-step-item",level:2},{value:"Finish child(nested step) item",id:"finish-childnested-step-item",level:2},{value:"Finish child item",id:"finish-child-item",level:2},{value:"Finish parent(container) item",id:"finish-parentcontainer-item",level:2},{value:"Save single log without attachment",id:"save-single-log-without-attachment",level:2},{value:"Batch save logs",id:"batch-save-logs",level:2},{value:"Save launch log",id:"save-launch-log",level:2},{value:"Finish root(suite) item",id:"finish-rootsuite-item",level:2},{value:"Finish launch",id:"finish-launch",level:2},{value:"Example",id:"example",level:2}],o={toc:u},s="wrapper";function m(t){let{components:e,...a}=t;return(0,l.kt)(s,(0,n.Z)({},o,a,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"reporting-developers-guide"},"Reporting developers guide"),(0,l.kt)("h2",{id:"preconditions"},"Preconditions"),(0,l.kt)("p",null,"Let's imagine we have the following tests structure:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"(Suite) Services\n    (Test) PluginServiceTest\n        (Step) uploadPlugin\n        (Step) updatePlugin\n        (Step) removePlugin\n    (Test) UserServiceTest\n        (Step) createUser\n        (Step) updateUser\n        (Step) deleteUser\n")),(0,l.kt)("p",null,"So our goal is run the tests and send results to ReportPortal.\nWe can interact with ReportPortal API instance trough HTTP requests."),(0,l.kt)("p",null,"The main flow is set of HTTP requests:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Start launch"),(0,l.kt)("li",{parentName:"ol"},"Start test item "),(0,l.kt)("li",{parentName:"ol"},"Save log with attachment if necessary"),(0,l.kt)("li",{parentName:"ol"},"Finish test item"),(0,l.kt)("li",{parentName:"ol"},"Finish launch")),(0,l.kt)("p",null,"Steps 2-4 should execute for each test item in structure."),(0,l.kt)("p",null,"Let's assume that our ReportPortal instance deployed at ",(0,l.kt)("inlineCode",{parentName:"p"},"http://rp.com"),". And our project name is ",(0,l.kt)("inlineCode",{parentName:"p"},"rp_project"),"."),(0,l.kt)("p",null,"Also we need token to get access to API. There are two ways to retrieve it."),(0,l.kt)("h2",{id:"retrieving-api-token"},"Retrieving api token"),(0,l.kt)("h4",{id:"using-ui"},"Using UI"),(0,l.kt)("p",null,"You can find it in profile (",(0,l.kt)("inlineCode",{parentName:"p"},"http://rp.com/ui/#user-profile"),")."),(0,l.kt)("h4",{id:"using-uat-service"},"Using UAT service"),(0,l.kt)("p",null,"First of all you need UI-token. You can get it sending POST request to ",(0,l.kt)("inlineCode",{parentName:"p"},"http://rp.com/uat/sso/oauth/token")," with user credentials."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'curl --header "Content-Type: application/x-www-form-urlencoded" \\\n     --request POST \\\n     --data "grant_type=password&username=default&password=1q2w3e" \\\n     --user "ui:uiman" \\\n     http://rp.com/uat/sso/oauth/token\n')),(0,l.kt)("p",null,"Response will contain ",(0,l.kt)("inlineCode",{parentName:"p"},"access_token")," field which is UI-token "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzU5MDA0NDgsInVzZXJfbmFtZSI6ImRlZmF1bHQiLCJhdXRob3JpdGllcyI6WyJST0xFX1VTRVIiXSwianRpIjoiOGQxZmUxOGUtNWY4NC00YTcwLWEwMTctNDBmZTU4ZmY3MjU3IiwiY2xpZW50X2lkIjoidWkiLCJzY29wZSI6WyJ1aSJdfQ.-5INLZnYJhNLwU5BTBuEDd0SBPoRGLBX6uX03kaEwLs",\n  "token_type": "bearer",\n  "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJkZWZhdWx0Iiwic2NvcGUiOlsidWkiXSwiYXRpIjoiOGQxZmUxOGUtNWY4NC00YTcwLWEwMTctNDBmZTU4ZmY3MjU3IiwiZXhwIjoxNTc4NDg4ODQ4LCJhdXRob3JpdGllcyI6WyJST0xFX1VTRVIiXSwianRpIjoiMGQyZDdiNTEtNGE3Mi00NjEwLTgxYmUtY2JmYjZhODhjNTgxIiwiY2xpZW50X2lkIjoidWkifQ.YOcpWlQSgF3LuskIqXgasjKvawbM_XP_I2oNJcgt9mM",\n  "expires_in": 3600,\n  "scope": "ui",\n  "jti": "8d1fe18e-5f84-4a70-a017-40fe58ff7257"\n}\n')),(0,l.kt)("p",null,"Next step is retrieve API-token that lives longer that UI-token."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'curl --header "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzU5MDA0NDgsInVzZXJfbmFtZSI6ImRlZmF1bHQiLCJhdXRob3JpdGllcyI6WyJST0xFX1VTRVIiXSwianRpIjoiOGQxZmUxOGUtNWY4NC00YTcwLWEwMTctNDBmZTU4ZmY3MjU3IiwiY2xpZW50X2lkIjoidWkiLCJzY29wZSI6WyJ1aSJdfQ.-5INLZnYJhNLwU5BTBuEDd0SBPoRGLBX6uX03kaEwLs" \\\n     --request GET \\\n     http://rp.com/uat/sso/me/apitoken\n')),(0,l.kt)("p",null,"And in response you can see ",(0,l.kt)("inlineCode",{parentName:"p"},"access_token")," which is API-token"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token": "039eda00-b397-4a6b-bab1-b1a9a90376d1",\n  "token_type": "bearer",\n  "scope": "api"\n}\n')),(0,l.kt)("p",null,"In case you have response with ",(0,l.kt)("inlineCode",{parentName:"p"},"404")," error code, you should send POST request to the same endpoint. It means API-token haven't been generated for user and this request will create one."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'curl --header "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzU5MDA0NDgsInVzZXJfbmFtZSI6ImRlZmF1bHQiLCJhdXRob3JpdGllcyI6WyJST0xFX1VTRVIiXSwianRpIjoiOGQxZmUxOGUtNWY4NC00YTcwLWEwMTctNDBmZTU4ZmY3MjU3IiwiY2xpZW50X2lkIjoidWkiLCJzY29wZSI6WyJ1aSJdfQ.-5INLZnYJhNLwU5BTBuEDd0SBPoRGLBX6uX03kaEwLs" \\\n     --request POST \\\n     http://rp.com/uat/sso/me/apitoken\n')),(0,l.kt)("p",null,"So our API-token is ",(0,l.kt)("inlineCode",{parentName:"p"},"039eda00-b397-4a6b-bab1-b1a9a90376d1")),(0,l.kt)("h2",{id:"start-launch"},"Start launch"),(0,l.kt)("p",null,"To start launch you should send request to the following endpoint:\nPOST ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/{version}/{projectName}/launch")),(0,l.kt)("p",null,"Start launch request model contains the following attributes:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"Attribute"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default value"),(0,l.kt)("th",{parentName:"tr",align:null},"Examples"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"name"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of launch"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"AutomationRun")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"startTime"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Launch start time"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"2019-11-22T11:47:01+00:00 (ISO 8601); Fri, 22 Nov 2019 11:47:01 +0000 (RFC 822, 1036, 1123, 2822); 2019-11-22T11:47:01+00:00 (RFC 3339); 1574423221000 (Unix Timestamp)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"description"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Description of launch"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"Services tests")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"uuid"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Launch uuid (string identificator)"),(0,l.kt)("td",{parentName:"tr",align:null},"auto generated(if not present in request)"),(0,l.kt)("td",{parentName:"tr",align:null},"69dc75cd-4522-44b9-9015-7685ec0e1abb")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"attributes"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Launch attributes. Pairs of key and value"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"build:3.0.1, os:bionic")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"mode"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Launch mode. Allowable values 'default' or 'debug'"),(0,l.kt)("td",{parentName:"tr",align:null},"default"),(0,l.kt)("td",{parentName:"tr",align:null},"DEFAULT")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"rerun"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Rerun mode. Allowable values 'true' of 'false'"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"false")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"rerunOf"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Rerun mode. Specifies launch to be reruned. Uses with 'rerun' attribute."),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"694e1549-b8ab-4f20-b7d8-8550c92431b0")))),(0,l.kt)("p",null,"Start launch response contains the following attributes:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Examples"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"id"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"UUID of created launch"),(0,l.kt)("td",{parentName:"tr",align:null},"1d1fb22e-01f7-4ac9-9ebc-f020d8fe93ff")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"number (*)"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of created launch"),(0,l.kt)("td",{parentName:"tr",align:null},"1")))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"(*)")," Field is not present in case using async endpoints"),(0,l.kt)("p",null,"So full request to start our launch looks like "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'curl --header "Content-Type: application/json" \\\n     --header "Authorization: Bearer 039eda00-b397-4a6b-bab1-b1a9a90376d1" \\\n     --request POST \\\n     --data \'{"name":"rp_launch","description":"My first launch on RP","startTime":"1574423221000","mode":"DEFAULT","attributes":[{"key":"build","value":"0.1"},{"value":"test"}]}\' \\\n     http://rp.com/api/v1/rp_project/launch\n')),(0,l.kt)("p",null,"Where body is the following json:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "rp_launch",\n  "description": "My first launch on RP",\n  "startTime": "1574423221000",\n  "mode": "DEFAULT",\n  "attributes": [\n    {\n      "key": "build",\n      "value": "0.1"\n    },\n    {\n      "value": "test"\n    }   \n  ] \n}\n')),(0,l.kt)("p",null,"In the response we can see ",(0,l.kt)("inlineCode",{parentName:"p"},"id")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"number")," if launch started successfully or an error if something went wrong. "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "96d1bc02-6a3f-451e-b706-719149d51ce4",\n  "number": 1\n}\n')),(0,l.kt)("p",null,"Value of ",(0,l.kt)("inlineCode",{parentName:"p"},"id")," field should save somewhere. It is obligatory for report test items under this launch and will be used later."),(0,l.kt)("h2",{id:"start-rootsuite-item"},"Start root(suite) item"),(0,l.kt)("p",null,"Now we have created launch and can report items under it.\nTo start root item you should send request to the following endpoint:\nPOST ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/{version}/{projectName}/item")),(0,l.kt)("p",null,"Start test item request model contains the following attributes:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default value"),(0,l.kt)("th",{parentName:"tr",align:null},"Examples"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"name"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of test item"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"Logging Tests")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"startTime"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Test item start time"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"2019-11-22T11:47:01+00:00 (ISO 8601); Fri, 22 Nov 2019 11:47:01 +0000 (RFC 822, 1036, 1123, 2822); 2019-11-22T11:47:01+00:00 (RFC 3339); 1574423221000 (Unix Timestamp)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"type"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},'Type of test item. Allowable values: "suite", "story", "test", "scenario", "step", "before_class", "before_groups", "before_method", "before_suite",      "before_test", "after_class", "after_groups", "after_method", "after_suite", "after_test"'),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"suite")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"launchUuid"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Parent launch UUID"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"96d1bc02-6a3f-451e-b706-719149d51ce4")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"description"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Test item description"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"Tests of loggers")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"attributes"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Test item attributes. Pairs of key and value"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"most failed, os:android")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"uuid"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Test item UUID"),(0,l.kt)("td",{parentName:"tr",align:null},"auto generated"),(0,l.kt)("td",{parentName:"tr",align:null},"e9ca837e-966c-412e-bf8b-e879510d99d5")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"codeRef"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Physical location of test item"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"com.rpproject.tests.LoggingTests")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"parameters"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Set of parameters (for parametrized tests)"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"logger:logback")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"uniqueId"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"auto generated"),(0,l.kt)("td",{parentName:"tr",align:null},"auto:cd5a6c616d412b6739738951c922377f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"retry"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Used to report retry of test. Allowable values: 'true' or 'false'"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"false")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"hasStats"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"true")))),(0,l.kt)("p",null,"Start test item response contains the following attributes:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"id"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"7189ec02-4c36-4e36-9f90-5a9b31dcbdba")))),(0,l.kt)("p",null,"So full request to start suite test looks like"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'curl --header "Content-Type: application/json" \\\n    --header "Authorization: Bearer 039eda00-b397-4a6b-bab1-b1a9a90376d1" \\\n    --request POST \\\n    --data \'{"name":"Services","startTime":"1574423234000","type":"suite","launchUuid":"96d1bc02-6a3f-451e-b706-719149d51ce4","description":"Services tests"}\' \\\n    http://rp.com/api/v1/rp_project/item\n')),(0,l.kt)("p",null,"Where body is the following json:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "Services",\n  "startTime": "1574423234000",\n  "type": "suite",\n  "launchUuid": "96d1bc02-6a3f-451e-b706-719149d51ce4",\n  "description": "Services tests"\n}\n')),(0,l.kt)("p",null,"And in the response we get ",(0,l.kt)("inlineCode",{parentName:"p"},"id")," of created test item:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "1e183148-c79f-493a-a615-2c9a888cb441"\n}\n')),(0,l.kt)("p",null,"Also we should save it to report child items under this one"),(0,l.kt)("h2",{id:"start-childcontainer-item"},"Start child(container) item"),(0,l.kt)("p",null,"Next test item will be child for suite test item and it also will be parent for few step items.\nIt will be container item.\nTo start child item we need know launch UUID and parent test item UUID.\nWe should call the following endpoint:\nPOST ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/{version}/{projectName}/item/{parentItemUuid}")),(0,l.kt)("p",null,"Request and response model the same as for parent item."),(0,l.kt)("p",null,"Full request:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'curl --header "Content-Type: application/json" \\\n     --header "Authorization: Bearer 039eda00-b397-4a6b-bab1-b1a9a90376d1" \\\n     --request POST \\\n     --data \'{"name":"PluginServiceTest","startTime":"1574423236000","type":"test","launchUuid":"96d1bc02-6a3f-451e-b706-719149d51ce4","description":"Plugin tests"}\' \\\n     http://rp.com/api/v1/rp_project/item/1e183148-c79f-493a-a615-2c9a888cb441\n')),(0,l.kt)("p",null,"Where body is:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "PluginServiceTest",\n  "startTime": "1574423236000",\n  "type": "test",\n  "launchUuid": "96d1bc02-6a3f-451e-b706-719149d51ce4",\n  "description": "Plugin tests"\n}\n')),(0,l.kt)("p",null,"And we have a response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "bb237b98-22b0-4289-9490-9bb29215fe5e"\n}\n')),(0,l.kt)("h2",{id:"start-childstep-item"},"Start child(step) item"),(0,l.kt)("p",null,"Now we are going to start another final test item in our structure."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'curl --header "Content-Type: application/json" \\\n     --header "Authorization: Bearer 039eda00-b397-4a6b-bab1-b1a9a90376d1" \\\n     --request POST \\\n     --data \'{"name":"uploadPlugin","startTime":"1574423237000","type":"step","launchUuid":"96d1bc02-6a3f-451e-b706-719149d51ce4","description":"Uploading plugin"}\' \\\n     http://rp.com/api/v1/rp_project/item/bb237b98-22b0-4289-9490-9bb29215fe5e\n')),(0,l.kt)("p",null,"With body:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "uploadPlugin",\n  "startTime": "1574423237000",\n  "type": "step",\n  "launchUuid": "96d1bc02-6a3f-451e-b706-719149d51ce4",\n  "description": "Uploading plugin"\n}\n')),(0,l.kt)("p",null,"And response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "22e55c62-d028-4b49-840f-195d7a48b114"\n}\n')),(0,l.kt)("h2",{id:"start-childnested-step-item"},"Start child(nested step) item"),(0,l.kt)("p",null,"Test item without statistics is called ",(0,l.kt)("inlineCode",{parentName:"p"},"Nested step")," and required for grouping logs and other ",(0,l.kt)("inlineCode",{parentName:"p"},"nested steps"),"(can be expanded and collapsed on the UI-view). ",(0,l.kt)("inlineCode",{parentName:"p"},"Nested step")," has the same body request as common test item and defined only by additional field ",(0,l.kt)("inlineCode",{parentName:"p"},"hasStats=false"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'curl --header "Content-Type: application/json" \\\n     --header "Authorization: Bearer 039eda00-b397-4a6b-bab1-b1a9a90376d1" \\\n     --request POST \\\n     --data \'{"name":"nestedItem","startTime":"1574423237000","type":"step","hasStats":false,"launchUuid":"96d1bc02-6a3f-451e-b706-719149d51ce4"}\' \\\n     http://rp.com/api/v1/rp_project/item/22e55c62-d028-4b49-840f-195d7a48b114\n')),(0,l.kt)("p",null,"With body:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "nestedItem",\n  "startTime": "1574423237000",\n  "type": "step",\n  "hasStats": false,\n  "launchUuid": "96d1bc02-6a3f-451e-b706-719149d51ce4"\n}\n')),(0,l.kt)("p",null,"And response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "37b77h32-t028-7b49-842f-195d7b48s114"\n}\n')),(0,l.kt)("p",null,"See Nested Step usage implementation and visual appearance (",(0,l.kt)("a",{parentName:"p",href:"https://github.com/reportportal/client-java/wiki/Nested-steps"},"Java based example"),")"),(0,l.kt)("h2",{id:"finish-childnested-step-item"},"Finish child(nested step) item"),(0,l.kt)("p",null,"We can finish ",(0,l.kt)("inlineCode",{parentName:"p"},"Nested step"),".\nTo do that we should send the following request:\nPUT ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/{version}/{projectName}/item/{itemUuid}")),(0,l.kt)("p",null,"Finish ",(0,l.kt)("inlineCode",{parentName:"p"},"Nested step")," request model:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default value"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"endTime"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Test item end time"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"2019-11-22T11:47:01+00:00 (ISO 8601); Fri, 22 Nov 2019 11:47:01 +0000 (RFC 822, 1036, 1123, 2822); 2019-11-22T11:47:01+00:00 (RFC 3339); 1574423221000 (Unix Timestamp)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"launchUuid"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Parent launch UUID"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"48ecc273-032f-44d4-822a-66e494e9b1e8")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"status"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},'Test item status. Allowable values: "passed", "failed", "stopped", "skipped", "interrupted", "cancelled".'),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"failed")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"description"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Test item description. Overrides description from start request. Not displayed on the UI-view for Nested Steps"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"Test item description on finish")))),(0,l.kt)("p",null,"If item finished successfully in the response will be message with item uuid."),(0,l.kt)("p",null,"Full request:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'curl --header "Content-Type: application/json" \\\n    --header "Authorization: Bearer 039eda00-b397-4a6b-bab1-b1a9a90376d1" \\\n    --request PUT \\\n    --data \'{"endTime":"1574423239000","status":"failed","launchUuid":"96d1bc02-6a3f-451e-b706-719149d51ce4"}\' \\\n    http://rp.com/api/v1/rp_project/item/37b77h32-t028-7b49-842f-195d7b48s114\n')),(0,l.kt)("p",null,"With body: "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "endTime": "1574423239000",\n  "status": "failed",\n  "launchUuid": "96d1bc02-6a3f-451e-b706-719149d51ce4"\n}\n')),(0,l.kt)("h2",{id:"finish-child-item"},"Finish child item"),(0,l.kt)("p",null,"We are not going to report more test items under this one, so we can finish it.\nTo do that we should send the following request:\nPUT ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/{version}/{projectName}/item/{itemUuid}")),(0,l.kt)("p",null,"Finish test item request model:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default value"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"endTime"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Test item end time"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"2019-11-22T11:47:01+00:00 (ISO 8601); Fri, 22 Nov 2019 11:47:01 +0000 (RFC 822, 1036, 1123, 2822); 2019-11-22T11:47:01+00:00 (RFC 3339); 1574423221000 (Unix Timestamp)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"launchUuid"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Parent launch UUID"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"48ecc273-032f-44d4-822a-66e494e9b1e8")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"status"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},'Test item status. Allowable values: "passed", "failed", "stopped", "skipped", "interrupted", "cancelled".'),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"failed")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"description"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Test item description. Overrides description from start request."),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"Test item description on finish")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"attributes"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Test item attributes. Pairs of key and value. Overrides attributes on start"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"most failed, os:android")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"retry"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Used to report retry of test. Allowable values: 'true' or 'false'"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"false")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"issue"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Issue of current test item"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"Will be described below in separate table")))),(0,l.kt)("p",null,"Issue part for finish test item model:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default value"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"issueType"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},'Issue type locator. Allowable values: "pb',(0,l.kt)("strong",{parentName:"td"},(0,l.kt)("em",{parentName:"strong"},'", "ab')),'", "si',(0,l.kt)("strong",{parentName:"td"},(0,l.kt)("em",{parentName:"strong"},'", "ti')),'", "nd001" or "NOT_ISSUE". Where *** is locator id.'),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"pb001")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"comment"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Issue comment"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"Framework issue. Script outdated")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"autoAnalyzed"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Is issue was submitted by auto analyzer"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"false")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"ignoreAnalyzer"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Is issue should be ignored during auto analysis"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"false")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"externalSystemIssues"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Set of external system issues"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"Will be described in separate table below")))),(0,l.kt)("p",null,"External system issue: "),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default value"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"ticketId"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Id of ticket in external system"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"ABCD1234")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"submitDate"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Ticket submit date as timestamp"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"1574696194000")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"brsUrl"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"URL of external system"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"http://example.com"},"http://example.com"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"btsProject"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Project name in external system"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"ABCD")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"url"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"URL of ticket in external system issue"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"http://example.com/ABCD1234"},"http://example.com/ABCD1234"))))),(0,l.kt)("p",null,"If item finished successfully in the response will be message with item uuid."),(0,l.kt)("p",null,"Full request:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'curl --header "Content-Type: application/json" \\\n    --header "Authorization: Bearer 039eda00-b397-4a6b-bab1-b1a9a90376d1" \\\n    --request PUT \\\n    --data \'{"endTime":"1574423239000","status":"failed","launchUuid":"96d1bc02-6a3f-451e-b706-719149d51ce4","issue":{"issueType":"pb001","comment":"Some critical issue"}}\' \\\n    http://rp.com/api/v1/rp_project/item/22e55c62-d028-4b49-840f-195d7a48b114\n')),(0,l.kt)("p",null,"With body: "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "endTime": "1574423239000",\n  "status": "failed",\n  "launchUuid": "96d1bc02-6a3f-451e-b706-719149d51ce4",\n  "issue": {\n    "issueType": "pb001",\n    "comment": "Some critical issue"    \n  }\n}\n')),(0,l.kt)("p",null,"We can report other child items (",(0,l.kt)("inlineCode",{parentName:"p"},"updatePlugin"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"removePlugin"),") the same way as described above.\nAll skipped and failed items are marked as ",(0,l.kt)("inlineCode",{parentName:"p"},"To Investigate")," by default. To mark them as not issue just send a special issue type:\n",(0,l.kt)("inlineCode",{parentName:"p"},'"issue": {"issueType": "NOT_ISSUE"}'),"."),(0,l.kt)("h2",{id:"finish-parentcontainer-item"},"Finish parent(container) item"),(0,l.kt)("p",null,"After that we should finish their parent item.\nWe can do it the same way as for child items."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'curl --header "Content-Type: application/json" \\\n     --header "Authorization: Bearer 039eda00-b397-4a6b-bab1-b1a9a90376d1" \\\n     --request PUT \\\n     --data \'{"endTime":"1574423241000","launchUuid":"96d1bc02-6a3f-451e-b706-719149d51ce4"}\' \\\n     http://rp.com/api/v1/rp_project/item/bb237b98-22b0-4289-9490-9bb29215fe5e\n')),(0,l.kt)("p",null,"With body: "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "endTime": "1574423241000",\n  "launchUuid": "96d1bc02-6a3f-451e-b706-719149d51ce4"\n}\n')),(0,l.kt)("h2",{id:"save-single-log-without-attachment"},"Save single log without attachment"),(0,l.kt)("p",null,"We can save logs for test items.\nFor example let's try to save log for ",(0,l.kt)("inlineCode",{parentName:"p"},"uploadPlugin")," test item.\nIt is not necessary to save log when test item already finished.\nWe can create log for test item with ",(0,l.kt)("inlineCode",{parentName:"p"},"in_progress")," status."),(0,l.kt)("p",null,"Common endpoint: POST ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/{version}/{projectName}/log")),(0,l.kt)("p",null,"And it has the following request model:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default value"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"launchUuid"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Launch UUID"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"e80b62e1-b297-47a0-be22-5a4a25920c0a")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"time"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Log time"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"2019-11-22T11:47:01+00:00 (ISO 8601); Fri, 22 Nov 2019 11:47:01 +0000 (RFC 822, 1036, 1123, 2822);  2019-11-22T11:47:01+00:00 (RFC 3339);  1574423221000 (Unix Timestamp)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"itemUuid"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Test item UUID"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"fb2a012f-5996-45a0-b3bb-d8210b4fb980")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"message"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Log message"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"[Forwarding findElement on session 477bee808ca0c415a7aae2de2edc5cc9 to remote]"," DEBUG o.a.h.c.protocol.RequestAddCookies - CookieSpec selected: default")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"level"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Log level. Allowable values: error(40000), warn(30000), info(20000), debug(10000), trace(5000), fatal(50000), unknown(60000)"),(0,l.kt)("td",{parentName:"tr",align:null},"?"),(0,l.kt)("td",{parentName:"tr",align:null},"error")))),(0,l.kt)("p",null,"Response model: "),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"id"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"43f80000-7ca8-4fed-9da3-0759867a847c")))),(0,l.kt)("p",null,"Full request:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'curl --header "Content-Type: application/json" \\\n     --header "Authorization: Bearer 039eda00-b397-4a6b-bab1-b1a9a90376d1" \\\n     --request POST \\\n     --data \'{"launchUuid":"96d1bc02-6a3f-451e-b706-719149d51ce4","itemUuid":"22e55c62-d028-4b49-840f-195d7a48b114","time":"1574423245000","message":"An error occurred while connecting to the server [Nested exception is java.lang.NoClassDefFoundError]","level":"error"}\' \\\n     http://rp.com/api/v1/rp_project/log\n')),(0,l.kt)("p",null,"Where body is:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "launchUuid": "96d1bc02-6a3f-451e-b706-719149d51ce4",\n  "itemUuid": "22e55c62-d028-4b49-840f-195d7a48b114",\n  "time": "1574423245000",\n  "message": "An error occurred while connecting to the server [Nested exception is java.lang.NoClassDefFoundError]",\n  "level": "error"\n}\n')),(0,l.kt)("h2",{id:"batch-save-logs"},"Batch save logs"),(0,l.kt)("p",null,"It is convenient to send all logs with attachments using only one request.\nLet's assume we want to save two logs with attachments (file1.pdf and file2.txt)"),(0,l.kt)("p",null,"To the request model adds one more complex attribute ",(0,l.kt)("inlineCode",{parentName:"p"},"file")," with the following parameters:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default value"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"name"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"File name"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"report.pdf")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"content"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Byte array"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"-")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"contentType"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"File content type"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"application/pdf")))),(0,l.kt)("p",null,"Response model contains an array of the following objects:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"id"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"UUID of created log"),(0,l.kt)("td",{parentName:"tr",align:null},"77542c07-970c-481d-ad5a-b4ccd15ae178")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"message (*)"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Exception message if error occurrs"),(0,l.kt)("td",{parentName:"tr",align:null},"ReportPortalException: Binary data cannot be saved. There is no request part or file with name lin_av.png")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"stackTrace (*)"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Stack trace of exception if error occurrs"),(0,l.kt)("td",{parentName:"tr",align:null},"com.epam.ta.reportportal.exception.ReportPortalException: Binary data cannot be saved. There is no request part or file with name lin_av.png\\r\\n\\tat com.epam.ta.reportportal.commons.validation.ErrorTypeBasedRuleValidator.verify(ErrorTypeBasedRuleValidator.java:37)\\r\\n\\tat com.epam.ta.reportportal.ws.controller.LogController.createLog(LogController.java:133)")))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"(*)")," Fields are present only if error occurred."),(0,l.kt)("p",null,"Full request:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},'curl --header "Content-Type: multipart/form-data" \\\n     --header "Authorization: Bearer 039eda00-b397-4a6b-bab1-b1a9a90376d1" \\\n     --request POST \\\n     --form \'json_request_part=[{"itemUuid":"9c7632a2-272e-4c24-9627-d7d509de7620","launchUuid":"96d1bc02-6a3f-451e-b706-719149d51ce4","time":"2019-11-06T15:50:53.187Z","message":"Some critical exception","level": "info","file":{"name":"file1.pdf"}},{"itemUuid":"16fb3d7f-ddce-407a-8e52-464a596e6da1","launchUuid":"96d1bc02-6a3f-451e-b706-719149d51ce4","time":"2019-11-06T15:50:53.187Z","message":"java.lang.NullPointerException","level": "info","file":{"name":"file2.txt"}}]; type=application/json\' \\\n     --form "file=@/path/to/file1.pdf" \\\n     --form "file=@/path/to/file2.txt" \\\n     http://rp.com/api/v1/rp_project/log\n')),(0,l.kt)("p",null,"With json body:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "itemUuid": "9c7632a2-272e-4c24-9627-d7d509de7620",\n    "launchUuid": "96d1bc02-6a3f-451e-b706-719149d51ce4",\n    "time": "2019-11-06T15:50:53.187Z",\n    "message": "Some critical exception",\n    "level": 40000,\n    "file": {\n      "name": "file1.pdf"\n    }\n  },\n  {\n    "itemUuid": "16fb3d7f-ddce-407a-8e52-464a596e6da1",\n    "launchUuid": "96d1bc02-6a3f-451e-b706-719149d51ce4",\n    "time": "2019-11-06T15:50:53.187Z",\n    "message": "java.lang.NullPointerException",\n    "level": 40000,\n    "file": {\n      "name": "file2.txt"\n    }\n  } \n]\n')),(0,l.kt)("p",null,"So we successfully reported logs with file attachments and can see in response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "responses": [\n    {\n      "id": "ec1b0153-a00e-4c61-b6bf-ac0578c2ed43"\n    },\n    {\n      "id": "b7661cb6-7e1a-40e2-8b96-59de41aa96e8"\n    }\n  ]\n}\n')),(0,l.kt)("h2",{id:"save-launch-log"},"Save launch log"),(0,l.kt)("p",null,"It is possible to report log attached to launch.\nTo do that use the same log endpoint, but in body do not send ",(0,l.kt)("inlineCode",{parentName:"p"},"itemUuid")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "launchUuid": "96d1bc02-6a3f-451e-b706-719149d51ce4",\n  "time": "2019-11-06T15:50:53.187Z",\n  "message": "java.lang.NullPointerException",\n  "level": 40000,\n  "file": {\n    "name": "file2.txt"\n  }\n}\n')),(0,l.kt)("p",null,"The same way we can report all the rest test items."),(0,l.kt)("h2",{id:"finish-rootsuite-item"},"Finish root(suite) item"),(0,l.kt)("p",null,"Finishing root item can be done the same way as ",(0,l.kt)("a",{parentName:"p",href:"#finish-parentcontainer-item"},"finish parent item")," and ",(0,l.kt)("a",{parentName:"p",href:"#finish-child-item"},"finish child item"),".\nBut we should specify its uuid in request parameter."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},'curl --header "Content-Type: application/json" \\\n     --header "Authorization: Bearer 039eda00-b397-4a6b-bab1-b1a9a90376d1" \\\n     --request PUT \\\n     --data \'{"endTime":"1574423247000","launchUuid":"96d1bc02-6a3f-451e-b706-719149d51ce4"}\' \\\n     http://rp.com/api/v1/rp_project/item/1e183148-c79f-493a-a615-2c9a888cb441\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "endTime": "1574423247000",\n  "launchUuid": "96d1bc02-6a3f-451e-b706-719149d51ce4"\n}\n')),(0,l.kt)("h2",{id:"finish-launch"},"Finish launch"),(0,l.kt)("p",null,"When we finished all test items, it's time to finish launch.\nEndpoint:"),(0,l.kt)("p",null,"PUT ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/{version}/{projectName}/launch/{launchUuid}/finish")),(0,l.kt)("p",null,"Finish request model:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default value"),(0,l.kt)("th",{parentName:"tr",align:null},"Examples"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"endTime"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Launch end time"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"2019-11-22T11:47:01+00:00 (ISO 8601); Fri, 22 Nov 2019 11:47:01 +0000 (RFC 822, 1036, 1123, 2822); 2019-11-22T11:47:01+00:00 (RFC 3339); 1574423221000 (Unix Timestamp)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"status"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},'Launch status. Allowable values: "passed", "failed", "stopped", "skipped", "interrupted", "cancelled"'),(0,l.kt)("td",{parentName:"tr",align:null},"calculated from children test items"),(0,l.kt)("td",{parentName:"tr",align:null},"failed")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"description"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Launch description. Overrides description on start"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null},"service test")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"attributes"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Launch attributes. Pairs of key and value. Overrides attributes on start"),(0,l.kt)("td",{parentName:"tr",align:null},"empty"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,"Finish response model"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"id"),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Launch UUID"),(0,l.kt)("td",{parentName:"tr",align:null},"6f084c4d-edb5-4691-90ba-d9e819ba61ba")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"number (*)"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Launch number"),(0,l.kt)("td",{parentName:"tr",align:null},"1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"link (*)"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"UI link to launch"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"http://rp.com/ui/#rp_project/launches/all/73336"},"http://rp.com/ui/#rp_project/launches/all/73336"))))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"(*)")," - In case async endpoint field is missing or empty "),(0,l.kt)("p",null,"Full request:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:"script",script:!0},'curl --header "Content-Type: application/json" \\\n     --header "Authorization: Bearer 039eda00-b397-4a6b-bab1-b1a9a90376d1" \\\n     --request PUT \\\n     --data \'{"endTime":"1574423255000"}\' \\\n     http://rp.com/api/v1/rp_project/launch/96d1bc02-6a3f-451e-b706-719149d51ce4/finish\n')),(0,l.kt)("p",null,"Where body is: "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "endTime": "1574423255000"\n}\n')),(0,l.kt)("h2",{id:"example"},"Example"),(0,l.kt)("p",null,"Example using bash yo can find ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/ihar-kahadouski/dev-guide/tree/master/bash-example"},"here")))}m.isMDXComponent=!0}}]);