"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[9721],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>h});var r=o(67294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var o=e.components,n=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(o),m=n,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||a;return o?r.createElement(h,i(i({ref:t},c),{},{components:o})):r.createElement(h,i({ref:t},c))}));function h(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=o.length,i=new Array(a);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:n,i[1]=l;for(var p=2;p<a;p++)i[p]=o[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,o)}m.displayName="MDXCreateElement"},20588:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var r=o(87462),n=(o(67294),o(3905));const a={sidebar_position:4,sidebar_label:"Deploy with Docker on Windows",description:"A portable way to manage your real time test results. Using Docker makes it easy to share test execution report and collaborate with other team members."},i="Deploy with Docker on Windows",l={unversionedId:"installation-steps/DeployWithDockerOnWindows",id:"installation-steps/DeployWithDockerOnWindows",title:"Deploy with Docker on Windows",description:"A portable way to manage your real time test results. Using Docker makes it easy to share test execution report and collaborate with other team members.",source:"@site/docs/installation-steps/DeployWithDockerOnWindows.md",sourceDirName:"installation-steps",slug:"/installation-steps/DeployWithDockerOnWindows",permalink:"/docs/installation-steps/DeployWithDockerOnWindows",draft:!1,editUrl:"https://github.com/reportportal/docs/blob/develop/docs/installation-steps/DeployWithDockerOnWindows.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,sidebar_label:"Deploy with Docker on Windows",description:"A portable way to manage your real time test results. Using Docker makes it easy to share test execution report and collaborate with other team members."},sidebar:"defaultSidebar",previous:{title:"Deploy with Docker on Linux/Mac",permalink:"/docs/installation-steps/DeployWithDockerOnLinuxMac"},next:{title:"Deploy without Docker",permalink:"/docs/installation-steps/DeployWithoutDocker"}},s={},p=[{value:"Updating ReportPortal with Docker",id:"updating-reportportal-with-docker",level:2},{value:"ReportPortal Services",id:"reportportal-services",level:2}],c={toc:p},u="wrapper";function d(e){let{components:t,...o}=e;return(0,n.kt)(u,(0,r.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"deploy-with-docker-on-windows"},"Deploy with Docker on Windows"),(0,n.kt)("p",null,'In case you went with Docker on Windows, please make sure you changed the \'volumes\' value for postgres container from "For unix host" to the "For windows host":'),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-Shell"},"  volumes:\n    # For windows host\n    - postgres:/var/lib/postgresql/data\n    # For unix host\n    # - ./data/postgres:/var/lib/postgresql/data\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"If you haven\u2019t done this, you will get an error"),(0,n.kt)("pre",{parentName:"blockquote"},(0,n.kt)("code",{parentName:"pre",className:"language-Shell"},"data directory \u201c/var/lib/postgresql/data/pgdata\u201d has wrong ownership\n"))),(0,n.kt)("p",null,"Then uncomment the following:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-Shell"},"    volumes:\n     # For unix host\n     # - ./data/storage:/data \n     # For windows host\n      - minio:/data\n")),(0,n.kt)("p",null,"And after that uncomment the following:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-Shell"},"# Docker volume for Windows host\nvolumes:\n  postgres:\n  minio:\n")),(0,n.kt)("h2",{id:"updating-reportportal-with-docker"},"Updating ReportPortal with Docker"),(0,n.kt)("p",null,"Updating ReportPortal with Docker is a two step process."),(0,n.kt)("p",null,"In the first step, your Docker Compose file should be replaced with a new one (with the latest version services) from ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/reportportal/reportportal/blob/master/docker-compose.yml"},"here"),"."),(0,n.kt)("p",null,"The second step is update / redeploy the application using the following command:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-Shell"},"docker-compose -p reportportal up -d --force-recreate\n")),(0,n.kt)("p",null,"There is no strict need for backup / restore the data if you are keep the postgres, elasticsearch & minio volumes. However, it is recommended (see Maintain commands Cheat sheet)."),(0,n.kt)("h2",{id:"reportportal-services"},"ReportPortal Services"),(0,n.kt)("p",null,"The ReportPortal consists of the following services:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Authorization Service. In charge of access tokens distribution."),(0,n.kt)("li",{parentName:"ul"},"Gateway Service. Main entry point to application. Port used by gateway should be opened and accessible from outside network."),(0,n.kt)("li",{parentName:"ul"},"API Service. Main application API."),(0,n.kt)("li",{parentName:"ul"},"UI Service. All statics for user interface."),(0,n.kt)("li",{parentName:"ul"},"Analyzer Service. Collects and processes the information, then sends it to ElasticSearch"),(0,n.kt)("li",{parentName:"ul"},"Index Service. Responsible for redirections, collection of services information, handling errors")))}d.isMDXComponent=!0}}]);